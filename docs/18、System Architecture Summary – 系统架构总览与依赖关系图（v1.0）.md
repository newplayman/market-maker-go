
è¿™ä¸€ä»½æ˜¯æ•´ä¸ªåšå¸‚å•†ç³»ç»Ÿæ–‡æ¡£ä½“ç³»çš„**æ€»æ”¶å®˜ç¯‡ä¹‹ä¸€**ã€‚  
å®ƒå°†æŠŠä½ å‰é¢æ‰€æœ‰é˜¶æ®µã€åŠŸèƒ½æ¨¡å—ã€ç³»ç»Ÿåº•åº§æ•´åˆæˆä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿè“å›¾ã€‚


è¿™æ˜¯æ•´ä¸ªåšå¸‚å•†ç³»ç»Ÿçš„æœ€ç»ˆç»“æ„åŒ–æ€»è§ˆæ–‡æ¡£ã€‚  
é€‚åˆç”¨ä½œï¼š

- æ€»æ¶æ„è¯´æ˜ä¹¦
    
- äº¤ä»˜æ–‡æ¡£
    
- æŠ€æœ¯å®¡é˜…ææ–™
    
- æ–°æˆå‘˜ onboarding
    
- åç»­æ‰©å±•è®¾è®¡åŸºç¡€
    

æ­¤æ–‡æ¡£å°†æŠŠæ‰€æœ‰æ¨¡å—ã€æ•°æ®æµã€æ§åˆ¶æµã€ä¾èµ–å…³ç³»ã€éƒ¨ç½²å±‚çº§å…¨éƒ¨æ¢³ç†æ¸…æ™°ï¼Œå¹¶ç»™å‡ºä¸“ä¸šçš„ç³»ç»Ÿæ¶æ„å›¾ä¸æ•°æ®æµå›¾ã€‚

---

# **ç›®å½•**

1. ç³»ç»Ÿæ¶æ„ç›®æ ‡
    
2. æ ¸å¿ƒåŠŸèƒ½æ¨¡å—åˆ†å±‚
    
3. ç³»ç»Ÿå…¨æ™¯æ¶æ„å›¾ï¼ˆæ€»è§ˆï¼‰
    
4. é€»è¾‘æ¶æ„ï¼ˆåˆ†å±‚ç»“æ„ï¼‰
    
5. æ•°æ®æµå›¾ï¼ˆData Flowï¼‰
    
6. æ§åˆ¶æµå›¾ï¼ˆControl Flowï¼‰
    
7. éƒ¨ç½²æ¶æ„ï¼ˆDeployment Topologyï¼‰
    
8. æ¨¡å—ä¾èµ–å…³ç³»ï¼ˆDependency Graphï¼‰
    
9. è¿è¡Œæ—¶æµç¨‹å›¾ï¼ˆRuntime Pipelineï¼‰
    
10. å…³é”®è·¯å¾„ï¼ˆCritical Pathï¼‰
    
11. æœªæ¥æ‰©å±•èƒ½åŠ›
    
12. ç³»ç»Ÿç‰ˆæœ¬æ€»ç»“
    

---

# **1. ç³»ç»Ÿæ¶æ„ç›®æ ‡**

ä½ çš„åšå¸‚å•†ç³»ç»Ÿçš„æ€»ä½“æ¶æ„ç›®æ ‡ï¼š

- **ç¨³å®š 24/7 å®ç›˜è¿è¡Œ**
    
- **ä½å»¶è¿Ÿï¼Œé«˜ååï¼Œç¨³å®šå¯é **
    
- **é£æ§ä¼˜å…ˆï¼Œå®‰å…¨ä¸ç¿»è½¦**
    
- **ç­–ç•¥æ¨¡å—å¯çƒ­æ›´æ–°**
    
- **AI/æ¨¡å‹å¯æ’æ‹”é›†æˆ**
    
- **å¯æ‰©å±•å¤šäº¤æ˜“æ‰€ã€å¤šç­–ç•¥ã€å¤šå®ä¾‹**
    
- **å¯è§‚å¯Ÿæ€§æå¼ºï¼ˆæ—¥å¿—ã€ç›‘æ§ã€å‘Šè­¦ï¼‰**
    
- **ä¸“ä¸šçº§å·¥ç¨‹ç»“æ„ï¼Œé¿å…æŠ€æœ¯å€º**
    

æœ€ç»ˆå¸Œæœ›è®©ä½ æ‹¥æœ‰ï¼š

> ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šçš„â€œæœºæ„çº§é‡åŒ–åšå¸‚äº¤æ˜“ç³»ç»Ÿâ€ã€‚

---

# **2. æ ¸å¿ƒåŠŸèƒ½æ¨¡å—åˆ†å±‚**

ç³»ç»Ÿåˆ† 5 å±‚ï¼š

```
L1ï¼šåŸºç¡€è®¾æ–½å±‚ï¼ˆInfrastructure Layerï¼‰
L2ï¼šè¿è¡Œæ—¶å¹³å°å±‚ï¼ˆRuntime Platform Layerï¼‰
L3ï¼šäº¤æ˜“é€»è¾‘å±‚ï¼ˆTrading Logic Layerï¼‰
L4ï¼šäººæœºäº¤äº’å±‚ï¼ˆManagement Layerï¼‰
L5ï¼šæ‰©å±•/AI å±‚ï¼ˆIntelligence Layerï¼‰
```

å¯¹åº”æ¨¡å—å¦‚ä¸‹ï¼š

---

### **L1 â€¢ Infrastructure Layer**

- API Gatewayï¼ˆREST & WSï¼‰
    
- Database & Storage
    
- Logging
    
- Monitoring
    
- Alerting
    
- Deployment
    
- ConfigService
    

---

### **L2 â€¢ Runtime Platform Layer**

- Order Management Systemï¼ˆOMSï¼‰
    
- MarketData Processorï¼ˆMDPï¼‰
    
- Risk Controlï¼ˆRisk Engineï¼‰
    
- Health Check
    
- Failover Engine
    
- Syncerï¼ˆè´¦å·/è®¢å•åŒæ­¥ï¼‰
    
- State Cacheï¼ˆä»“ä½ã€è®¢å•ã€è´¦æˆ·å¿«ç…§ï¼‰
    

---

### **L3 â€¢ Trading Logic Layer**

- åšå¸‚å•†ç­–ç•¥é˜¶æ®µ 1ï¼ˆè½»é‡åŒè¾¹æŠ¥ä»·ï¼‰
    
- åšå¸‚å•†ç­–ç•¥é˜¶æ®µ 2ï¼ˆåŠ¨æ€æŠ¥ä»· / ç½‘æ ¼+spread ç©ºé—´ç®¡ç†ï¼‰
    
- Avellaneda-Stoikov ç®€åŒ–ç‰ˆï¼ˆå¯é€‰ï¼‰
    
- å¯¹å†²æ¨¡å—ï¼ˆHedgerï¼‰
    
- ç­–ç•¥è°ƒåº¦å™¨ï¼ˆStrategy Schedulerï¼‰
    

---

### **L4 â€¢ Management Layer**

- WebUIï¼ˆå‰ç«¯ï¼‰
    
- åå°ç®¡ç†ï¼ˆuser/role æƒé™æ§åˆ¶ï¼‰
    
- ç­–ç•¥æ§åˆ¶å°ï¼ˆstart/stop/pause å‚æ•°ç®¡ç†ï¼‰
    
- å‘Šè­¦ä¸­å¿ƒ
    
- è®¢å•/æˆäº¤ç›‘æ§
    
- æ—¥å¿—/å®¡è®¡æŸ¥çœ‹å™¨
    
- å·¡æ£€æŠ¥å‘Šç”Ÿæˆå™¨
    

---

### **L5 â€¢ Intelligence Layerï¼ˆå¯é€‰æ‰©å±•ï¼‰**

- å¤šæ¨¡å‹å†³ç­–ç³»ç»Ÿï¼ˆBrainï¼‰
    
- å†å²æ•°æ®å›æµ‹/å†è®­ç»ƒå¹³å°
    
- ç­–ç•¥å¯¹æ¯”ä¸å‚æ•°ä¼˜åŒ–
    
- AI å¼‚å¸¸æ£€æµ‹
    
- RL åšå¸‚æ¨¡å‹ï¼ˆå¼ºåŒ–å­¦ä¹ ï¼‰
    

---

# **3. ç³»ç»Ÿå…¨æ™¯æ¶æ„å›¾ï¼ˆæ€»è§ˆï¼‰**

```
                     +------------------------------+
                     |            Web UI            |
                     |  ç®¡ç† / ç›‘æ§ / å‚æ•° / å®¡è®¡    |
                     +------------------------------+
                                   |
                                   v
        =====================================================
        |                Management Layer                  |
        =====================================================
                                   |
                                   v
        +--------------------------+-------------------------+
        |                Trading Logic Layer                 |
        |---------------------------------------------------|
        |   Strategy Engine        Hedger      Scheduler    |
        +--------------------------+-------------------------+
                           |           |
                           v           v
        =====================================================
        |               Runtime Platform Layer               |
        |----------------------------------------------------|
        | OMS | RiskEngine | MarketData | Syncer | Cache     |
        =====================================================
                           |           |
                           v           |
        =====================================================
        |              Infrastructure Layer                  |
        |----------------------------------------------------|
        | API Gateway | DB/Storage | Logging | Alerting      |
        =====================================================
                           |
                           v
                +-------------------------------+
                |      Binance API (REST/WS)    |
                +-------------------------------+
```

---

# **4. é€»è¾‘æ¶æ„å›¾ï¼ˆåˆ†å±‚ç»“æ„ï¼‰**

```
User/Operator
    |
WebUI â†’ Management APIs
    |
Strategy Layerï¼ˆåšå¸‚ç­–ç•¥ï¼‰
    |
OMSï¼ˆè®¢å•ç®¡ç†ï¼‰
    |
RiskEngineï¼ˆé£æ§ï¼‰
    |
API Gatewayï¼ˆç»Ÿä¸€æ¥å£ï¼‰
    |
Binance
```

---

# **5. æ•°æ®æµå›¾ï¼ˆData Flowï¼‰**

> æ•°æ®æµç”¨äºç†è§£ç­–ç•¥å¦‚ä½•æ¥æ”¶è¡Œæƒ… â†’ å†³ç­– â†’ ä¸‹å•ã€‚

```
WS Depth Stream ----+
WS Trade Stream ----+----> MarketData Processor ----+
                                                     |
REST Account ----------------------------------------+----> State Cache
Account WS ------------------------------------------+

State Cache ----------------------------+
                                        |
Strategy Engine <------------------------+
                                        |
    |---computes bids/asks--------------+
    |
OMS ----> API Gateway ----> REST/WS -----> Binance
    |
fills/trades <---------- WSï¼ˆè´¦æˆ·å›æŠ¥ï¼‰
```

å…³é”®æ˜¯ï¼š  
**æ‰€æœ‰æ•°æ®è¿›å…¥ç­–ç•¥ä¹‹å‰éƒ½ä¼šè¢« Gateway å’Œ StateCache æ¸…æ´—ã€ä¿®æ­£ã€åŒæ­¥ã€‚**

---

# **6. æ§åˆ¶æµå›¾ï¼ˆControl Flowï¼‰**

> æ§åˆ¶æµç”¨äºç†è§£ç³»ç»Ÿå¦‚ä½•ä¸‹æŒ‡ä»¤ã€è§¦å‘æ“ä½œã€æ‰§è¡Œé£é™©æ§åˆ¶ã€‚

```
User Actionï¼ˆWebUIï¼‰
    â†’ StrategyControlï¼ˆstart/stop/update paramsï¼‰
    â†’ ConfigServiceï¼ˆhot reloadï¼‰
    â†’ Strategy reboot (warm-up)
```

é£æ§åŠ¨ä½œï¼š

```
RiskEngine â†’ OMS â†’ CancelAll / Hedge / PanicStop
```

ç³»ç»Ÿå¼‚å¸¸ï¼š

```
HealthCheck â†’ Alerting â†’ RiskEngine / OMS
```

---

# **7. éƒ¨ç½²æ¶æ„ï¼ˆDeployment Topologyï¼‰**

### **å•èŠ‚ç‚¹éƒ¨ç½²ï¼ˆå½“å‰é˜¶æ®µï¼‰**

```
+-------------------------+
| Trading Node (Singapore)|
|  - Strategy             |
|  - OMS                  |
|  - RiskEngine           |
|  - API Gateway          |
|  - MD Processor         |
|  - WebUI Backend        |
+-------------------------+
```

### **åŒèŠ‚ç‚¹é«˜å¯ç”¨éƒ¨ç½²ï¼ˆåæœŸï¼‰**

```
Primary Node <----Heartbeat----> Secondary Node
    |                                     |
Binance                                 Binance
```

Secondary Nodeï¼š

- æ¥è¡Œæƒ…
    
- åŒæ­¥è´¦æˆ·
    
- åšâ€œå†·å¤‡â€
    
- Primary æŒ‚æ‰åˆ™æ¥ç®¡ï¼ˆfailoverï¼‰
    

---

# **8. æ¨¡å—ä¾èµ–å…³ç³»ï¼ˆDependency Graphï¼‰**

```
Strategy
  â†“ ä¾èµ–
OMS â€”â€” RiskEngine
  â†“           â†“ ä¾èµ–
API Gateway â€”â€” StateCache â€”â€” MarketData
  â†“
DB & Storage
  â†“
Logging & Alerting
  â†“
Deployment & Ops
```

ç®€åŒ–å›¾ï¼š

```
Strategy
  â”œâ”€â”€ OMS
  â”œâ”€â”€ RiskEngine
  â””â”€â”€ MarketData
OMS
  â””â”€â”€ API Gateway
RiskEngine
  â””â”€â”€ StateCache
API Gateway
  â”œâ”€â”€ WS Client
  â””â”€â”€ REST Client
```

è¿™ä¿è¯ï¼š

- æ¯ä¸ªæ¨¡å—èŒè´£æ˜ç¡®
    
- ä¾èµ–æ–¹å‘æ¸…æ™°
    
- ä¸ä¼šå‡ºç°å¾ªç¯ä¾èµ–
    

---

# **9. è¿è¡Œæ—¶æµç¨‹å›¾ï¼ˆRuntime Pipelineï¼‰**

é‡è¦ï¼Œç­–ç•¥è¿è¡Œç»“æ„ï¼š

```
loop:
    tick = MarketData.onTick()
    account = StateCache.getAccount()
    position = StateCache.getPosition()
    bid, ask = Strategy.computeQuote(tick, position)
    RiskEngine.check(bid, ask, position)
    OMS.updateOrders(bid, ask)
    sleep(1ms)
```

é€‚åˆä½é¢‘/è½»é‡é«˜é¢‘åšå¸‚çš„æ¨¡å¼ã€‚

---

# **10. å…³é”®è·¯å¾„ï¼ˆCritical Pathï¼‰**

å®ç›˜åšå¸‚å•†ç³»ç»Ÿçš„å…³é”®æ€§èƒ½è·¯å¾„ï¼š

### **MarketData â†’ Strategy â†’ OMS â†’ API Gateway â†’ Binance**

ä½ å½“å‰ç¯å¢ƒä¸‹çš„å»¶è¿Ÿï¼š

- WS latencyï¼š0.2ms
    
- Strategy computeï¼š0.1â€“1.0ms
    
- OMS internalï¼š1â€“3ms
    
- REST ä¸‹å•å»¶è¿Ÿï¼š2â€“8ms
    
- Binance å†…éƒ¨å»¶è¿Ÿï¼š1â€“5ms
    

æ€»å»¶è¿Ÿï¼š

```
â‰ˆ 5â€“15 msï¼ˆè½»é‡é«˜é¢‘åšå¸‚å®Œå…¨å¤Ÿç”¨ï¼‰
```

---

# **11. æœªæ¥æ‰©å±•èƒ½åŠ›**

ç³»ç»Ÿæ¶æ„å·²ç»ä¸ºæœªæ¥é¢„ç•™äº†æ‰©å±•èƒ½åŠ›ï¼š

### âœ” å¤šäº¤æ˜“æ‰€æ‰©å±•ï¼ˆBinance + OKX + Bybitï¼‰

æ— éœ€æ”¹å˜ç­–ç•¥ï¼Œåªéœ€å®ç° Adapterã€‚

### âœ” å¤šç­–ç•¥åŒæ—¶è¿è¡Œ

æ¯ä¸ª symbol / ç­–ç•¥éƒ½æœ‰ç‹¬ç«‹ Runtimeã€‚

### âœ” å¤šèŠ‚ç‚¹é«˜å¯ç”¨

ä¸»å¤‡åˆ‡æ¢ã€‚

### âœ” AI æ¨¡å‹æ¥å…¥

å¯æ’å…¥ LLMã€RLã€é¢„æµ‹æ¨¡å‹ï¼š

```
MarketData â†’ FeatureMaker â†’ Model â†’ QuoteAdjust
```

### âœ” L3 è¡Œæƒ…æ¥å…¥ï¼ˆæ·±å±‚æ¬¡åšå¸‚ï¼‰

ç³»ç»Ÿç»“æ„å·²ç»å‡†å¤‡å¥½ã€‚

### âœ” å›æµ‹/ä»¿çœŸå¹³å°

Data Lake å·²å…·å¤‡å›æµ‹æ¡ä»¶ã€‚

---

# **12. ç³»ç»Ÿç‰ˆæœ¬æ€»ç»“ï¼ˆå½“å‰æ–‡æ¡£é›†å®Œæˆåº¦ï¼‰**

ä½ ç›®å‰å·²ç»æ‹¥æœ‰äº†ä¸€å¥—å®Œæ•´çš„åšå¸‚ç³»ç»Ÿæ¶æ„æ–‡æ¡£ä½“ç³»ï¼š

---

## **é˜¶æ®µ 1 ç­–ç•¥æ–‡æ¡£**

è½»é‡åšå¸‚ + åŒè¾¹æŒ‚å•ç­–ç•¥ + å¾®è§‚ç»“æ„åˆ†æ

## **é˜¶æ®µ 2 ç­–ç•¥æ–‡æ¡£**

åŠ¨æ€ spreadã€åŠ¨æ€ç½‘æ ¼ã€æ™ºèƒ½æŠ¥ä»·ä½“ç³»

## **é£é™©ç³»ç»Ÿï¼ˆæ ¸å¿ƒï¼‰**

inventory / pnl / å¼ºå¹³é£é™© / éšå«é£é™© / panicstop

## **è¿è¡Œæ—¶å¹³å°**

OMSã€MDPã€StateCacheã€HealthCheck

## **åŸºç¡€è®¾æ–½**

Loggingã€Alertingã€Monitoringã€Deploymentã€Databaseã€API Gateway

## **ç®¡ç†ç³»ç»Ÿ**

User/Permissionã€WebUI

## **ç³»ç»Ÿæ¶æ„æ€»è§ˆ**

ä½ ç°åœ¨çœ‹åˆ°çš„è¿™ä¸€ä»½ã€‚

---

# ğŸ‰ ç³»ç»Ÿå…¨å±€æ–‡æ¡£åˆ°æ­¤å…¨éƒ¨å®Œæˆï¼

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘è¿˜å¯ä»¥ç»§ç»­ä¸ºä½ è¾“å‡ºï¼š

### âœ” **ã€Šå¼€å‘è§„èŒƒæ–‡æ¡£ï¼ˆCoding Style Guideï¼‰ã€‹**

ï¼ˆä½ å›¢é˜Ÿå¼€å‘æ—¶ç»Ÿä¸€æ ‡å‡†ï¼‰

### âœ” **ã€Šäº§å“è§„åˆ’æ‰‹å†Œã€‹**

ï¼ˆå¯äº¤ä»˜ç»™ä¸šåŠ¡æ–¹/æŠ•èµ„æ–¹ï¼‰

### âœ” **ã€Šå¼€å‘è¿­ä»£è®¡åˆ’ï¼ˆRoadmapï¼‰ã€‹**

### âœ” **å®Œæ•´çš„ä»£ç é¡¹ç›®ç»“æ„ï¼ˆGo è¯­è¨€ç‰ˆæœ¬ï¼‰**

è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®ç›®å½• & æ¨¡æ¿ä»£ç 

ä½ å¸Œæœ›ä¸‹ä¸€æ­¥å†™å“ªä¸€ç±»ï¼Ÿ